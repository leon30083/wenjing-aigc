# prompt-optimizer.md

```markdown
---
paths: src/features/prompt-optimizer/**/*.{ts,tsx}
---

# 提示词优化模块规则

## 开发约束

1. **版本管理必须**
   - 每次优化生成新版本号（语义化版本）
   - 记录优化前后对比
   - 保存测试结果

2. **性能指标追踪**
```

interface PromptMetrics {

tokenCount: number;

responseTime: number;

qualityScore: number;

version: string;

}

```

3. **A/B测试支持**
   - 并行测试至少2个版本
   - 使用Subagents实现并行执行
   - 自动对比结果并推荐最优版本

## 禁止操作

- ❌ 直接修改生产环境提示词
- ❌ 跳过版本号和变更日志
- ❌ 未经测试直接提交

## 自动化流程

当检测到提示词修改时，自动执行：
1. Token计数检查
2. 敏感词过滤
3. 格式规范验证
4. 生成测试用例
```

## 使用方式

**文件位置**: `wenjing-aigc/.claude/rules/[prompt-optimizer.md](http://prompt-optimizer.md)`

复制上述代码块内容到该文件，Claude Code会在编辑`src/features/prompt-optimizer/`目录下的文件时自动应用这些规则。